ALTER TABLE `unfepi`.`vaccine` 
ADD COLUMN `vaccine_entity` VARCHAR(255) NULL AFTER `isSupplementary`;


INSERT INTO `unfepi`.`vaccine` (`vaccineId`, `fullName`, `name`, `shortName`, `maxGracePeriodDays`, `minGracePeriodDays`, `isSupplementary`, `vaccine_entity`) VALUES ('16', 'Tetanus Toxoide 1', 'TT1', 'TT1', '15', '3', 0, 'WOMEN_COMPULSORY');
INSERT INTO `unfepi`.`vaccine` (`vaccineId`, `fullName`, `name`, `shortName`, `maxGracePeriodDays`, `minGracePeriodDays`, `isSupplementary`, `vaccine_entity`) VALUES ('17', 'Tetanus Toxoide 2', 'TT2', 'TT2', '15', '3', 0, 'WOMEN_COMPULSORY');
INSERT INTO `unfepi`.`vaccine` (`vaccineId`, `fullName`, `name`, `shortName`, `maxGracePeriodDays`, `minGracePeriodDays`, `isSupplementary`, `vaccine_entity`) VALUES ('18', 'Tetanus Toxoide 3', 'TT3', 'TT3', '15', '3', 0, 'WOMEN_COMPULSORY');
INSERT INTO `unfepi`.`vaccine` (`vaccineId`, `fullName`, `name`, `shortName`, `maxGracePeriodDays`, `minGracePeriodDays`, `isSupplementary`, `vaccine_entity`) VALUES ('19', 'Tetanus Toxoide 4', 'TT4', 'TT4', '15', '3', 0, 'WOMEN_COMPULSORY');
INSERT INTO `unfepi`.`vaccine` (`vaccineId`, `fullName`, `name`, `shortName`, `maxGracePeriodDays`, `minGracePeriodDays`, `isSupplementary`, `vaccine_entity`) VALUES ('20', 'Tetanus Toxoide 5', 'TT5', 'TT5', '15', '3', 0, 'WOMEN_COMPULSORY');
UPDATE `unfepi`.`vaccine` SET `vaccine_entity`='CHILD_COMPULSORY' WHERE `vaccineId`='1';
UPDATE `unfepi`.`vaccine` SET `vaccine_entity`='CHILD_COMPULSORY' WHERE `vaccineId`='2';
UPDATE `unfepi`.`vaccine` SET `vaccine_entity`='CHILD_COMPULSORY' WHERE `vaccineId`='3';
UPDATE `unfepi`.`vaccine` SET `vaccine_entity`='CHILD_COMPULSORY' WHERE `vaccineId`='4';
UPDATE `unfepi`.`vaccine` SET `vaccine_entity`='CHILD_COMPULSORY' WHERE `vaccineId`='5';
UPDATE `unfepi`.`vaccine` SET `vaccine_entity`='CHILD_COMPULSORY' WHERE `vaccineId`='6';
UPDATE `unfepi`.`vaccine` SET `vaccine_entity`='CHILD_COMPULSORY' WHERE `vaccineId`='7';
UPDATE `unfepi`.`vaccine` SET `vaccine_entity`='CHILD_COMPULSORY' WHERE `vaccineId`='8';
UPDATE `unfepi`.`vaccine` SET `vaccine_entity`='CHILD_COMPULSORY' WHERE `vaccineId`='9';
UPDATE `unfepi`.`vaccine` SET `vaccine_entity`='CHILD_COMPULSORY' WHERE `vaccineId`='10';
UPDATE `unfepi`.`vaccine` SET `vaccine_entity`='CHILD_COMPULSORY' WHERE `vaccineId`='11';
UPDATE `unfepi`.`vaccine` SET `vaccine_entity`='CHILD_COMPULSORY' WHERE `vaccineId`='12';
UPDATE `unfepi`.`vaccine` SET `vaccine_entity`='CHILD_COMPULSORY' WHERE `vaccineId`='13';
UPDATE `unfepi`.`vaccine` SET `vaccine_entity`='CHILD_SUPPLEMENTARY' WHERE `vaccineId`='14';
UPDATE `unfepi`.`vaccine` SET `vaccine_entity`='CHILD_SUPPLEMENTARY' WHERE `vaccineId`='15';
UPDATE `unfepi`.`vaccine` SET `vaccine_entity`='CHILD_SUPPLEMENTARY' WHERE `vaccineId`='9999';

UPDATE `unfepi`.`notifier` SET `notifierCron`='0 30 23 ? * *', `notifierMessage`='Caregiver Incentives Daily Notifier' WHERE `notifierId`='4';



UPDATE `unfepi`.`setting` SET `value`='1.3.1' WHERE `settingId`='28';



INSERT INTO `unfepi`.`role` (`roleId`, `rolename`, `createdByUserId`) VALUES ('16', 'WOMEN', '43');


INSERT INTO `unfepi`.`identifiertype` (`identifierTypeId`, `name`, `locationBehavior`, `required`) VALUES ('7', 'WOMEN_PROJECT_ID', 'USED', '1');



DROP TABLE IF EXISTS 'women';
CREATE TABLE `women` (
`mappedId` int(11) NOT NULL,
`firstName` varchar(30) DEFAULT NULL,
`middleName` varchar(30) DEFAULT NULL,
`lastName` varchar(30) DEFAULT NULL,
`birthdate` datetime DEFAULT NULL,
`estimatedBirthdate` tinyint(1) DEFAULT NULL,
`fatherFirstName` varchar(30) DEFAULT NULL,
`fatherLastName` varchar(30) DEFAULT NULL,
`fatherMiddleName` varchar(30) DEFAULT NULL,
`husbandFirstName` varchar(30) DEFAULT NULL,
`husbandLastName` varchar(30) DEFAULT NULL,
`husbandMiddleName` varchar(30) DEFAULT NULL,
`maritalStatus` varchar(30) DEFAULT NULL,
`nic` varchar(20) DEFAULT NULL,
`nicOwnerFirstName` varchar(30) DEFAULT NULL,
`nicOwnerLastName` varchar(30) DEFAULT NULL,
`nicOwnerRelation` varchar(50) DEFAULT NULL,
`domicile` varchar(30) DEFAULT NULL,
`dateEnrolled` datetime DEFAULT NULL,
`dateOfCompletion` datetime DEFAULT NULL,
`terminationDate` datetime DEFAULT NULL,
`terminationReason` varchar(255) DEFAULT NULL,
`status` varchar(20) NOT NULL DEFAULT 'ENROLLMENT',
`enrollmentVaccineId` smallint(6) DEFAULT NULL,
`description` varchar(255) DEFAULT NULL,
`createdByUserId` int(11) DEFAULT NULL,
`createdDate` datetime DEFAULT NULL,
`lastEditedByUserId` int(11) DEFAULT NULL,
`lastEditedDate` datetime DEFAULT NULL,
PRIMARY KEY (`mappedId`),
KEY `women_lastEditedByUserId_user_mappedId_FK` (`lastEditedByUserId`),
KEY `women_createdByUserId_user_mappedId_FK` (`createdByUserId`),
KEY `women_enrVaccId_vaccine_vaccId_idx` (`enrollmentVaccineId`),
CONSTRAINT `women_createdByUserId_user_mappedId_FK` FOREIGN KEY (`createdByUserId`) REFERENCES `user` (`mappedId`),
CONSTRAINT `women_enrVaccId_vaccine_vaccId_idx` FOREIGN KEY (`enrollmentVaccineId`) REFERENCES `vaccine` (`vaccineId`) ON DELETE NO ACTION ON UPDATE NO ACTION,
CONSTRAINT `women_lastEditedByUserId_user_mappedId_FK` FOREIGN KEY (`lastEditedByUserId`) REFERENCES `user` (`mappedId`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

DROP TABLE IF EXISTS 'womenvaccination';
CREATE TABLE `womenvaccination` (
  `vaccinationRecordNum` int(11) NOT NULL AUTO_INCREMENT,
  `createdDate` datetime DEFAULT NULL,
  `description` varchar(255) DEFAULT NULL,
  `epiNumber` varchar(255) DEFAULT NULL,
  `height` float DEFAULT NULL,
  `isFirstVaccination` tinyint(1) DEFAULT NULL,
  `isVaccinationCenterChanged` tinyint(1) DEFAULT NULL,
  `lastEditedDate` datetime DEFAULT NULL,
  `mappedId` int(11) DEFAULT NULL,
  `reasonNotTimelyVaccination` varchar(255) DEFAULT NULL,
  `timelinessFactor` smallint(6) DEFAULT NULL,
  `timelinessStatus` int(11) DEFAULT NULL,
  `vaccinationCenterId` int(11) DEFAULT NULL,
  `vaccinationDate` datetime DEFAULT NULL,
  `vaccinationDuedate` datetime DEFAULT NULL,
  `vaccinationStatus` varchar(20) DEFAULT NULL,
  `vaccinatorId` int(11) DEFAULT NULL,
  `vaccineId` smallint(6) DEFAULT NULL,
  `weight` float DEFAULT NULL,
  `createdByUserId` int(11) DEFAULT NULL,
  `lastEditedByUserId` int(11) DEFAULT NULL,
  `womenId` int(11) DEFAULT NULL,
  PRIMARY KEY (`vaccinationRecordNum`),
  KEY `vaccinationId_vaccinatorId_vaccinator_mappedId_FK` (`vaccinatorId`),
  KEY `vaccinationWomen_womenId_women_mappedId_FK` (`womenId`),
  KEY `vaccinationEdit_lastEditedByUserId_user_mappedId_FK` (`lastEditedByUserId`),
  KEY `vaccinationId_vaccineId_vaccine_vaccineId_FK` (`vaccineId`),
  KEY `vaccinationUser_createdByUserId_user_mappedId_FK` (`createdByUserId`),
  CONSTRAINT `vaccinationEdit_lastEditedByUserId_user_mappedId_FK` FOREIGN KEY (`lastEditedByUserId`) REFERENCES `user` (`mappedId`),
  CONSTRAINT `vaccinationId_vaccinatorId_vaccinator_mappedId_FK` FOREIGN KEY (`vaccinatorId`) REFERENCES `vaccinator` (`mappedId`),
  CONSTRAINT `vaccinationId_vaccineId_vaccine_vaccineId_FK` FOREIGN KEY (`vaccineId`) REFERENCES `vaccine` (`vaccineId`),
  CONSTRAINT `vaccinationUser_createdByUserId_user_mappedId_FK` FOREIGN KEY (`createdByUserId`) REFERENCES `user` (`mappedId`),
  CONSTRAINT `vaccinationWomen_womenId_women_mappedId_FK` FOREIGN KEY (`womenId`) REFERENCES `idmapper` (`mappedId`)
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=latin1;